
# OSGアプリ デプロイ（公開）手順書

このアプリを、工場の皆さんが自分のスマホやPCから見られるように、「Webサーバー」に置く手順です。

難しく聞こえるかもしれませんが、やることは**「作成したファイルを、サーバーの指定場所にコピーする」**だけです。

---

## 1. 準備：設定ファイルの確認

サーバーに置く前に、アプリが正しく動くか設定をチェックします。

1. **`js` フォルダの中にある `config.js`** を開いてください（メモ帳などでOKです）。
2. `GAS_URL` という文字を探してください。
   ```javascript
   const CONFIG = {
       // ↓このURLが正しいか確認してください
       GAS_URL: "https://script.google.com/macros/s/xxxxxxxxxxxx/exec",
       // ...
   };
   ```
3. このURLが、あなたが作成した **GAS（Google Apps Script）のデプロイID** （/exec で終わるURL）になっているか確認してください。
   - もし開発用と本番用でGASを分けていないなら、そのままで大丈夫です。
   - `YOUR_GAS_DEPLOYMENT_URL_HERE` のような文字になっていたら、正しいURLに書き換えて保存してください。

---

## 2. サーバーにアップロードするファイル

以下のファイルたちを、Webサーバーの公開フォルダ（「public_html」や「www」という名前が多いです）にコピーします。

**【重要】**
これらのファイル・フォルダを**そのままの形（構成）**で置いてください。

| 場所 | ファイル名 / フォルダ名 | 説明 |
|---|---|---|
| **一番上の階層** | `manifest.json` | **【重要】** アプリ化するための設定ファイル |
| **一番上の階層** | `sw.js` | **【重要】** 通信を制御するプログラム |
| **一番上の階層** | `index.html` | アクセスした人をログイン画面に案内するファイル |
| **htmlフォルダ** | `html/` | 画面のファイルが入っているフォルダごと |
| **cssフォルダ** | `css/` | デザインのファイルが入っているフォルダごと |
| **jsフォルダ** | `js/` | プログラムが入っているフォルダごと |
| **assetsフォルダ** | `assets/` | 画像が入っているフォルダごと |

> **× アップロードしなくて良いもの:**
> - `gas` フォルダ（Google側にあるので不要）
> - `manual` フォルダ（説明書なので不要）
> - `history` フォルダ（バックアップなので不要）

---

## 3. 具体的なアップロード方法

お使いのサーバーによってやり方が異なりますが、一般的には以下の2パターンです。

### パターンA：レンタルサーバーの「ファイルマネージャー」を使う場合
1. レンタルサーバーの管理画面にログインします。
2. 「ファイルマネージャー」などのメニューを開きます。
3. 公開フォルダ（`public_html` など）を開きます。
4. ここに、上記のファイルやフォルダをドラッグ＆ドロップでアップロードします。

### パターンB：FTPソフト（FileZillaなど）を使う場合
1. PCのFTPソフトでサーバーに接続します。
2. 右側（サーバー側）で公開フォルダを開きます。
3. 左側（PC側）にあるOSGアプリのファイルを、右側にドラッグ＆ドロップします。

### パターンC：GitHub Pagesを使う場合（おすすめ！）
GitHubのアカウントがあれば、**無料で公開**できます。

1. GitHubで新しいリポジトリ（New Repository）を作成します（Publicに設定）。
2. 作成したリポジトリのページで「Upload files」を選びます。
3. **OSG-appフォルダの中身すべて**（`index.html`,`sw.js`,`htmlフォルダ`など全部）を選択して、ドラッグ＆ドロップします。
   - ※ `OSG-app` というフォルダそのものをアップロードすると、URLが長くなってしまうので「中身」を置くのがおすすめです。
4. リポジトリの「Settings」タブ → 左メニュー「Pages」を開きます。
5. **Source** を「Deploy from a branch」、**Branch** を「main」にしてSaveします。
6. 数分待つと、画面上に `https://(ユーザー名).github.io/(リポジトリ名)/` というURLが表示されます。これが公開URLです！

---

## 4. 公開されたか確認

アップロードが終わったら、スマホやPCのブラウザでサーバーのURLにアクセスしてみましょう。

**例:** `https://(あなたの会社のサーバー)/osg/`

1. ログイン画面が表示されれば成功です！
2. スマホの場合、ブラウザのメニューから「ホーム画面に追加」を選ぶと、アプリのようにアイコンが作られます。

---

### 用語解説
- **静的Webサイト（せいてきWebサイト）**:
  難しいプログラム（PHPやPythonなど）を使わず、HTMLファイルなどを「ただ置いてあるだけ」のサイトのことです。このアプリは、裏側の難しい処理はすべてGoogle（GAS）がやってくれるので、Webサーバー側は「ファイルを置くだけ」で動きます。安くて管理が楽なのが特徴です。
